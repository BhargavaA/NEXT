extends: [base.yaml]

initExp:
  args:
    args:
      rating_scale:
        description: Each target will be rated by a numerical score. In some applications the returned number comes from some process that generates some number between [-1,1], for instance. Alternatively, people may not be inputting numerical scores but picking one of a finite number of options encoded by a number (i.e. ("unfunny",0.0),("somewhat funny",0.5),("funny",1.0))
        type: oneof
        values:
          scale_parameter:
            description: sub-Gaussian parameter, e.g. E[exp(t*X)]<=exp(t^2 R^2/2), defaults to R=0.5 (satisfies X \in [0,1])
            type: num
          labels:
            description: List of dictionaries with label and reward keys, (i.e. [{'label':'unfunny','reward':0.},{'label':'somewhat funny','reward':0.5},{'label':'funny','reward':1.}])
            type: any


getQuery:
  args:
    args:
      description: Arguments for getQuery
      type: dict
      values:
        participant_uid:
          description: unique identifier of session for a participant answering questions, if key non-existant particpant_uid is assigned as exp_uid.
          type: str
          optional: true
        widget:
          description: whether to send widget html or json response
          type: boolean
          default: false

          
processAnswer:
  args:
    args:
      description: Arguments for processAnswer
      type: dict
      values:
        initial_query:
          description: Is this the first 
          type: boolean
          default: false
        answer:
          description: Either the initial arm or the reward for a given arm
          type: oneof
          values:
            target_reward:
              description: The reward of the target.
              type: num
            initial_arm:
              description: The index of the initial arm.
              type: num
        query_uid:
          description: The unique identifier for the query.
          type: str
        response_time:
          description: The time taken for the participant to answer the query.
          type: num
        timestamp_answer_received:
          description: The time the answer was recieved. Added by the NEXT Broker and should not be inputted by user.
          type: str
